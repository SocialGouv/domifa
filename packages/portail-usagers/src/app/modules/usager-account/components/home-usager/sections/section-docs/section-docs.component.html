<h2 class="fr-text-title--blue-france mb-2">Documents disponibles</h2>

<div class="border-top pt-3 border-1 border-grey d-flex flex-column gap-2">
  <div *ngIf="!docs?.length">
    <div class="fr-callout fr-callout--empty">
      Vous n'avez aucun document disponible
    </div>
  </div>
  <ng-container *ngIf="docs?.length">
    <div
      *ngFor="let doc of docs"
      class="fr-card fr-card--download fr-enlarge-link fr-card--sm"
    >
      <div class="fr-card__body">
        <div class="fr-card__content">
          <div class="fr-card__title">
            <button
              type="button"
              [disabled]="doc.loading"
              [attr.aria-disabled]="doc.loading"
              [attr.aria-busy]="doc.loading ? 'true' : 'false'"
              [attr.aria-label]="'Télécharger le document ' + doc.label"
              (click)="downloadDoc(doc)"
            >
              <span *ngIf="!doc.loading">{{ doc.label }}</span>
              <span class="d-flex gap-1" *ngIf="doc.loading">
                {{ doc.label }} - Téléchargement en cours
                <dsfr-ext-spinner typeLoader="quarter"></dsfr-ext-spinner>
              </span>
            </button>
          </div>
          <p class="fr-card__desc">
            Date d'ajout : {{ doc.createdAt | date : "short" }}
          </p>
          <div class="fr-card__end">
            <p class="fr-card__detail">
              {{ STRUCTURE_DOC_EXTENSIONS_LABELS[doc.filetype] }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
