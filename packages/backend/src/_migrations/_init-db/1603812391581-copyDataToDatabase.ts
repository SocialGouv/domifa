import { MigrationInterface, QueryRunner } from "typeorm";
import { appLogger } from "../../util";

// IMPORTANT: utilisé sur les branches PR pour initialiser la bdd: ne pas supprimer!!!
export class copyDataToDatabase1603812391581 implements MigrationInterface {
  name = "copyDataToDatabase1603812391581";

  public async up(queryRunner: QueryRunner): Promise<void> {
    appLogger.warn("DEBUT INSERTION ....");

    appLogger.warn("> app_user");
    // uuid createdAt updatedAt version email fonction id lastLogin nom password prenom role structureId mails passwordLastUpdate verified
    await queryRunner.query(`
      INSERT INTO public.app_user VALUES ('da01f451-9c4f-4f6c-98bb-c635277e33e7', '2020-11-17 13:18:47.658346+00', '2021-06-28 13:27:26.09598+00', 1, 'ccastest@yopmail.com', NULL, nextval('app_user_id_seq'), '2021-06-28 13:27:26.095+00', 'Roméro', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Patrick', 'admin', 1, '{"guide": false, "import": false}', NULL, true);
      INSERT INTO public.app_user VALUES ('663b9baa-2880-406c-a93a-32fe65528037', '2020-11-17 13:18:47.658346+00', '2020-11-17 13:18:47.658346+00', 1, 'justeisabelle@yopmail.com', NULL, nextval('app_user_id_seq'), NULL, 'Juste', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Isabelle', 'simple', 1, '{"guide": false, "import": false}', NULL, true);
      INSERT INTO public.app_user VALUES ('b0140303-79e3-436c-9c41-1eaefeeaed6e', '2020-11-17 13:23:20.248011+00', '2020-11-17 13:23:20.257747+00', 1, 'peter.smith@yopmail.com', NULL, nextval('app_user_id_seq'), NULL, 'Smith', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Peter', 'responsable', 1, '{"guide": false, "import": false}', NULL, true);
      INSERT INTO public.app_user VALUES ('d19ece1f-d32b-498c-9427-eb12b1251163', '2020-11-17 13:26:29.482634+00', '2020-11-17 13:26:29.490297+00', 1, 'facteur.test@yopmail.com', NULL, nextval('app_user_id_seq'), NULL, 'Test', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Facteur', 'facteur', 1, '{"guide": false, "import": false}', NULL, false);
      INSERT INTO public.app_user VALUES ('d81c5566-94f9-4ee4-ab57-a604a654f79b', '2020-11-17 13:32:22.193933+00', '2020-11-17 13:39:14.015103+00', 1, 'roseline.parmentier@yopmail.com', NULL, nextval('app_user_id_seq'), '2020-11-17 13:39:13.796+00', 'Roseline', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Parmentier', 'admin', 3, '{"guide": false, "import": false}', '2020-11-17 13:39:14.013+00', true);
      INSERT INTO public.app_user VALUES ('59c846d8-0592-4790-a5e2-1daae9b8776e', '2020-11-14 13:18:27.658736+00', '2020-11-14 13:18:27.658736+00', 1, 'structure-1.facteur-1@yopmail.com', NULL, nextval('app_user_id_seq'), '2021-06-28 13:27:26.095+00', 'Dupuis', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Facteur 1', 'facteur', , '{"guide": true, "import": true}', NULL, true);
      INSERT INTO public.app_user VALUES ('44f1cfe8-eae9-49d5-aedb-76dda856c413', '2021-02-01 16:12:30.90825+00', '2021-02-01 16:13:04.64034+00', 1, 'test.import@yopmail.com', 'Testeur', nextval('app_user_id_seq'), NULL, 'Test', '$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Import', 'admin', 4, '{"guide": false, "import": false}', NULL, true);
      INSERT INTO public.app_user VALUES  ('4e049e3d-bb65-48e5-8661-b1ccdc9db985' , '2021-09-21 00:03:26.186917+02','2021-09-21 00:03:26.186917+02', 2, 'simple-testeur@yopmail.com', 'Simple testeur', nextval('app_user_id_seq'), NULL, 'Jacquet','$2a$10$3yXcVfWYOWsI/KzAwZ0BrOay1Dp/ZOF5RjhLL0QA2Pt7gQVg2U86u', 'Aimé', 'simple' , 3, '{"guide": false, "import": false}' , NULL, true);
    `);

    appLogger.warn("> app_user_security");
    // uuid createdAt updatedAt version userId structureId temporaryTokens eventsHistory
    await queryRunner.query(`
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 1, 1, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 2, 1, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 3, 1, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 4, 1, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 5, 3, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-15 15:53:55.740856+00', '2021-03-15 15:53:55.740856+00', 1, 7, 4, NULL, '[]');
      INSERT INTO public.app_user_security VALUES (uuid_generate_v4(), '2021-03-16 15:53:55.740856+00', '2021-03-16 15:53:55.740856+00', 1, 8, 3, NULL, '[]');
      `);

    appLogger.warn("> interactions");
    await queryRunner.query(
      `
      INSERT INTO public.interactions VALUES ('4fc32424-3f6e-48c7-9ef1-02b9db388445', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:47:00.286', 3, 1, 'recommandeIn', 1, 1, 'Patrick Roméro', '', '860ffa4c-88c4-4e1c-ad42-5a05cdf39830', 'create', NULL);
      INSERT INTO public.interactions VALUES ('44ba43d0-ab44-4449-a6e1-40cbcbc92adc', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:47:03.303', 4, 1, 'colisIn', 1, 1, 'Patrick Roméro', '', '860ffa4c-88c4-4e1c-ad42-5a05cdf39830', 'create', NULL);
      INSERT INTO public.interactions VALUES ('b174770d-dfb4-45ea-bf5c-58f1288ff6dd', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:47:06.168', 1, 1, 'courrierIn', 1, 1, 'Patrick Roméro', '', '860ffa4c-88c4-4e1c-ad42-5a05cdf39830', 'create', NULL);
      INSERT INTO public.interactions VALUES ('086a249e-67ea-462c-bb84-4aac5bf0b854', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:41:28.157', 1, 1, 'courrierIn', 2, 1, 'Patrick Roméro', '', '97b7e840-0e93-4bf4-ba7d-0a406aa898f2', 'create', NULL);
      INSERT INTO public.interactions VALUES ('f5200bf7-4ec7-4331-b931-fe36df84014a', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:46:51.913', 1, 1, 'courrierIn', 2, 1, 'Patrick Roméro', '', '97b7e840-0e93-4bf4-ba7d-0a406aa898f2', 'create', NULL);
      INSERT INTO public.interactions VALUES ('656aa50a-0a2c-4fe3-a312-8b694aa5f9ec', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:46:53.24', 1, 1, 'courrierIn', 2, 1, 'Patrick Roméro', '', '97b7e840-0e93-4bf4-ba7d-0a406aa898f2', 'create', NULL);
      INSERT INTO public.interactions VALUES ('05706b0a-4434-4e90-8288-b58f2fe17c33', '2020-11-18 11:01:52.072912+00', '2020-11-18 11:01:52.072912+00', 1,'2020-11-01 18:46:54.143', 0, 1, 'visite', 2, 1, 'Patrick Roméro', '', '97b7e840-0e93-4bf4-ba7d-0a406aa898f2', 'create', NULL);
      INSERT INTO public.interactions VALUES ('b68794a5-1d02-48ca-9cc7-8b43b4a4bbf0', '2021-06-28 13:25:28.404973+00', '2021-06-28 13:25:28.404973+00', 1,'2021-06-28 15:25:28.404', 2, 1, 'courrierIn', 7, 1, 'Patrick Roméro', '', 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('fb8dde95-b421-4cf0-b205-9e940d9641e5', '2021-06-28 13:25:28.512802+00', '2021-06-28 13:25:28.512802+00', 1,'2021-06-28 15:25:28.512', 1, 1, 'colisIn', 7, 1, 'Patrick Roméro', '', 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('0a0dbf1d-055f-47db-b2ae-013c611033e8', '2021-06-28 13:25:33.70286+00', '2021-06-28 13:25:33.70286+00', 1, '2021-06-28 15:25:33.702', 1, 1, 'colisIn', 7, 1, 'Patrick Roméro', NULL, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('f3b49608-cb17-4fdb-b793-8da431cd6ffe', '2021-06-28 13:25:35.998265+00', '2021-06-28 13:25:35.998265+00', 1, '2021-06-28 15:25:35.997', 2, 1, 'courrierOut', 7, 1, 'Patrick Roméro', NULL, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('53a50f2d-c906-421e-be21-8857dfca97fc', '2021-06-28 13:25:36.005054+00', '2021-06-28 13:25:36.005054+00', 1, '2021-06-28 15:25:36.004', 2, 1, 'colisOut', 7, 1, 'Patrick Roméro', NULL, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('7d27aea0-d9ae-4529-b1ee-e40a4eadf1ab', '2021-06-28 13:25:37.471534+00', '2021-06-28 13:25:37.471534+00', 1, '2021-06-28 15:25:37.47', 1, 1, 'courrierIn', 7, 1, 'Patrick Roméro', NULL, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('212f8184-972a-4cb3-ae83-d1738659cbf9', '2021-06-28 13:25:45.842905+00', '2021-06-28 13:25:45.842905+00', 1, '2021-06-28 15:25:45.842', 1, 1, 'courrierIn', 7, 1, 'Patrick Roméro', 'Courrier très important', 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      INSERT INTO public.interactions VALUES ('8abd81e6-403f-49f3-999a-0ead3e6456c5', '2021-06-28 13:25:51.252592+00', '2021-06-28 13:25:51.252592+00', 1, '2021-06-28 15:25:51.252', 1, 1, 'colisIn', 7, 1, 'Patrick Roméro', NULL, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 'create', NULL);
      `
    );

    appLogger.warn("> message_email");
    await queryRunner.query(
      `
      INSERT INTO public.message_email VALUES ('1a8fc8f6-bc6b-40fb-b2ed-b4e1af5cb4b5', '2021-01-26 09:04:24.386282+00', '2021-01-26 09:04:24.386282+00', 1, 'pending', 'user-reset-password', '2021-01-26 09:04:24.381+00', '2021-01-26 09:04:24.381+00', NULL, '{"to": [{"address": "ccastest@yopmail.com", "personalName": "Roméro Patrick"}], "from": {"personalName": "Domifa"}, "replyTo": {"personalName": "Domifa"}, "subject": "Demande d''un nouveau mot de passe", "tipimailModels": [{"email": "ccastest@yopmail.com", "values": {"lien": "http://localhost:4200/reset-password/3d6a46c1ce375273a5db76838c6b5c73feb0bf97f88fa40698b67c2a97eb", "prenom": "Patrick"}, "subject": "Demande d''un nouveau mot de passe"}], "tipimailTemplateId": "users-nouveau-mot-de-passe"}', 0, NULL, NULL, NULL);
      INSERT INTO public.message_email VALUES ('3192eafb-b86d-4f2f-ad6c-f7f7df01508a', '2021-02-01 16:12:30.914556+00', '2021-02-01 16:12:30.914556+00', 1, 'pending', 'structure-created', '2021-02-01 16:12:30.914+00', '2021-02-01 16:12:30.914+00', NULL, '{"to": [{"personalName": "Domifa"}], "from": {"personalName": "Domifa"}, "replyTo": {"personalName": "Domifa"}, "subject": "Nouvelle structure sur Domifa ", "tipimailModels": [{"meta": {}, "values": {"email": "test.import@yopmail.com", "phone": "0101010101", "ville": "Nantes", "adresse": "rue de l''import", "user_nom": "Test", "user_email": "test.import@yopmail.com", "code_postal": "44000", "departement": "Loire-Atlantique", "user_prenom": "Import", "structure_name": "Structure de Test d''import", "structure_type": "Organisme agrée", "responsable_nom": "Test", "lien_suppression": "http://localhost:4200/structures/delete/4/63ba3e786570cfc32fdc9d2d46b365cb23d4b955df308579ffd0ab0f23c7", "lien_confirmation": "http://localhost:4200/structures/confirm/4/63ba3e786570cfc32fdc9d2d46b365cb23d4b955df308579ffd0ab0f23c7", "responsable_prenom": "Import", "responsable_fonction": "Testeur"}, "subject": "Nouvelle structure sur Domifa "}], "tipimailTemplateId": "domifa-nouvelle-structure"}', 0, NULL, NULL, NULL);
      INSERT INTO public.message_email VALUES ('3e6f55be-2f38-4dad-8bcf-16551f9154e7', '2021-02-01 16:13:04.645677+00', '2021-02-01 16:13:04.645677+00', 1, 'pending', 'user-account-activated', '2021-02-01 16:13:04.644+00', '2021-02-01 16:13:04.644+00', NULL, '{"to": [{"address": "test.import@yopmail.com", "personalName": "Import Test"}], "from": {"personalName": "Domifa"}, "replyTo": {"personalName": "Domifa"}, "subject": "Votre compte Domifa a été activé", "tipimailModels": [{"meta": {}, "email": "test.import@yopmail.com", "values": {"lien": "http://localhost:4200/", "prenom": "Import", "nom_structure": "Structure de Test d''import"}, "subject": "Votre compte Domifa a été activé"}], "tipimailTemplateId": "users-compte-active"}', 0, NULL, NULL, NULL);
      `
    );

    appLogger.warn("> structure");
    await queryRunner.query(
      `
      INSERT INTO public.structure VALUES ('e159011b-6648-426d-a772-b3ca4f27a6d5', '2021-01-26 07:51:53.846157+00', '2021-01-26 07:51:53.846157+00', 1, 2, '2 rue du test', NULL, NULL, NULL, '33600', NULL, '33', '75', 'cias.test@yopmail.com', NULL, '', false, '2020-11-17 13:32:21.959+00', NULL, '2020-11-17', 'CIAS de Test', '{"numeroBoite": false}', '0102030405', '{"nom": "Anna", "prenom": "Dupond", "fonction": "PDG"}', 'cias', 'b1ca3193633282c675257f1b05771a7605a4aa1c5ba231b3545564bfa33a', false, 'Pessac', '{"senderName": null, "senderDetails": null, "enabledByDomifa": false, "enabledByStructure": false}');
      INSERT INTO public.structure VALUES ('610966c4-ab91-43c0-88da-483ae23d0af2', '2021-02-01 16:12:30.65884+00', '2021-02-01 16:13:04.633129+00', 4, 4, 'rue de l''import', '{"actif": false, "ville": "", "adresse": "", "codePostal": ""}', '123', NULL, '44000', '', '44', '52', 'test.import@yopmail.com', NULL, NULL, false, '2021-02-01 16:12:30.655+00', NULL, NULL, 'Structure de Test d''import', '{"numeroBoite": false}', '0101010101', '{"nom": "Test", "prenom": "Import", "fonction": "Testeur"}', 'asso', '', true, 'Nantes', '{"senderName": null, "senderDetails": null, "enabledByDomifa": false, "enabledByStructure": false}');
      INSERT INTO public.structure VALUES ('1d1ed6f0-7674-474a-908b-d0bd8c6389cb', '2021-01-26 07:51:53.846157+00', '2021-01-26 07:51:53.846157+00', 1, 3, '1 rue du test de l''organise agréé', NULL, '1234', 80, '44000', NULL, '44', '52', 'organisme.agree@yopmail.com', '{"token": "6V0XR2S", "userId": 3}', '', false, '2020-11-17 13:34:35.821+00', NULL, NULL, 'Organisme agréé de Test', '{"numeroBoite": false}', '0506070809', '{"nom": "Calvez", "prenom": "Simon", "fonction": "Directeur"}', 'asso', 'b8e2e05b767ac984f0f4b8a222062b07268f46265525f98d83e4b518b343', false, 'Nantes', '{"senderName": null, "senderDetails": null, "enabledByDomifa": false, "enabledByStructure": false}');
      INSERT INTO public.structure VALUES ('412f6962-fc6e-4e48-b0a6-a37d6eebbc67', '2021-01-26 07:51:53.846157+00', '2021-06-28 13:27:26.09285+00', 78, 1, '1 rue de l''océan', NULL, NULL, NULL, '92600', NULL, '92', '11', 'ccas.test@yopmail.com', NULL, '', false, '2020-11-17 13:30:23.692+00', NULL, '2021-06-28', 'CCAS de Test', '{"numeroBoite": false}', '0602030405', '{"nom": "Jean", "prenom": "Thomson", "fonction": "PDG"}', 'ccas', 'adfbfe24ff6de1f4e7c0011ad05028f5a129ced7f120079d20c4adf21d89', true, 'Asnieres-sur-seine', '{"senderName": null, "senderDetails": null, "enabledByDomifa": false, "enabledByStructure": false}');
      `
    );

    appLogger.warn("> usager");
    await queryRunner.query(
      `
        INSERT INTO public.usager VALUES ('97b7e840-0e93-4bf4-ba7d-0a406aa898f2', '2019-11-22 10:33:43+00', '2021-06-15 09:19:07.821605+00', 4, 2, '63', 1, 'Karamoko', 'Maurice', NULL, 'homme', '1998-08-07 00:00:00+00', 'Bouaké, Côte d''Ivoire', NULL, 'domicilie2@yopmail.com', '0142424242', '{"email": false, "phone": false}', '2018-01-11 00:00:00+00', 'RENOUVELLEMENT', '{"uuid": "178ad317-0bd1-41e7-ad87-fd371f166310", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2020-02-12T00:00:00.000Z", "typeDom": "RENOUVELLEMENT", "userName": "Patrick Roméro", "dateDebut": "2019-02-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-02-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}', '[{"uuid": "178ad317-0bd1-41e7-ad87-fd371f166310", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2020-02-12T00:00:00.000Z", "typeDom": "RENOUVELLEMENT", "userName": "Patrick Roméro", "dateDebut": "2019-02-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-02-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}]', '[{"nom": "Karamoko", "lien": "CONJOINT", "prenom": "Mauricette", "dateNaissance": "1978-12-20T00:00:00.000Z"}]', '{"colisIn": 0, "enAttente": true, "courrierIn": 2, "recommandeIn": 0, "dateInteraction": "2020-11-01T17:46:54.143Z"}', '[]', '[]', 3, NULL, '{"cause": "ERRANCE", "raison": "AUTRE", "revenus": false, "residence": "DOMICILE_MOBILE", "typeMenage": "COUPLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": true, "orientationDetail": "Par ici", "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": true, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"nom": null, "actif": false, "adresse": null, "dateFin": null, "dateDebut": null}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('e074c416-093a-46fc-ae47-77a3bc111d35', '2021-01-27 09:21:49.173276+00', '2021-06-15 09:19:07.821605+00', 3, 3, '3', 1, 'Dupont', 'Fred', 'fredo', 'homme', '1940-08-07 00:00:00+00', 'Macon', NULL, NULL, NULL, '{"email": false, "phone": false}', '2019-10-07 18:50:25.552+00', 'PREMIERE_DOM', '{"uuid": "30ababd0-8e2f-4917-9662-9c812d604dda", "motif": "SATURATION", "statut": "REFUS", "userId": 1, "dateFin": "2020-08-09T00:00:00.000Z", "typeDom": "PREMIERE", "userName": "Patrick Roméro", "dateDebut": "2019-09-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}', '[{"uuid": "30ababd0-8e2f-4917-9662-9c812d604dda", "motif": "SATURATION", "statut": "REFUS", "userId": 1, "dateFin": "2020-08-09T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-09-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}]', '[]', '{"appel": null, "visite": null, "colisIn": 0, "enAttente": false, "courrierIn": 0, "nbCourrier": 0, "courrierOut": null, "recommandeIn": 0, "recommandeOut": null, "dateInteraction": "2021-01-27T09:21:49.237Z"}', '[]', '[]', 5, NULL, '{"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"nom": null, "actif": false, "adresse": null}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('ee7ef219-b101-422c-8ad4-4d5aedf9caad', '2020-11-01 17:50:10.047+00', '2021-06-15 09:19:07.821605+00', 4, 6, '6', 1, 'NOUVEAU', 'DOSSIER', 'TEST', 'homme', '1988-11-02 00:00:00+00', 'Paris', NULL, 'fake-mail@yopmail.com', '0101010101', '{"email": false, "phone": false}', '2020-11-01 00:00:00+00', 'PREMIERE_DOM', '{"uuid": "bf35d476-35d6-4d3d-93b4-dfd49816904f", "statut": "VALIDE", "userId": 1, "dateFin": "2021-10-31T00:00:00.000Z", "userName": "Patrick Roméro", "dateDebut": "2020-11-01T00:00:00.000Z", "dateDecision": "2020-11-01T17:50:29.003Z", "orientationDetails": null}', '[{"uuid": "8bd1eae7-7635-4c75-ba64-ad78b1141baf", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2020-11-01T17:50:10.042Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2020-11-01T17:50:10.042Z", "dateDecision": "2020-11-01T17:50:10.042Z", "orientationDetails": null}, {"uuid": "bf35d476-35d6-4d3d-93b4-dfd49816904f", "statut": "VALIDE", "userId": 1, "dateFin": "2021-10-31T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2020-11-01T00:00:00.000Z", "dateDecision": "2020-11-01T17:50:29.003Z", "orientationDetails": null}]', '[{"nom": "TEST 1 ", "lien": "PARENT", "prenom": "TEST 2 ", "dateNaissance": "1991-12-20T00:00:00.000Z"}]', '{"colisIn": 0, "enAttente": false, "courrierIn": 0, "recommandeIn": 0, "dateInteraction": "2020-11-01T00:00:00.000Z"}', '[]', '[]', 5, '{"userId": 1, "dateRdv": "2020-11-01T17:50:12.019Z", "userName": "Roméro Patrick"}', '{"cause": "VIOLENCE", "raison": "EXERCICE_DROITS", "revenus": true, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"nom": null, "actif": false, "adresse": null}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('860ffa4c-88c4-4e1c-ad42-5a05cdf39830', '2019-11-22 10:33:43+00', '2021-06-15 09:19:07.821605+00', 4, 1, '63', 1, 'Ramirez', 'Marta', NULL, 'femme', '1978-08-07 00:00:00+00', 'Sao Paulo, Brésil', NULL, 'domicilie1@yopmail.com', '0142424241', '{"email": false, "phone": false}', '2018-03-01 00:00:00+00', 'PREMIERE_DOM', '{"uuid": "52ba789e-eb21-4d84-9176-abe1e0d3c778", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2019-02-27T00:00:00.000Z", "typeDom": "PREMIERE", "userName": "Patrick Roméro", "dateDebut": "2018-03-01T00:00:00.000Z", "orientation": "", "dateDecision": "2018-03-01T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}', '[{"uuid": "52ba789e-eb21-4d84-9176-abe1e0d3c778", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2019-02-27T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2018-03-01T00:00:00.000Z", "orientation": "", "dateDecision": "2018-03-01T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}]', '[{"nom": "Martinez", "lien": "ENFANT", "prenom": "Luiz", "dateNaissance": "1992-12-20T00:00:00.000Z"}, {"nom": "Martinez", "lien": "ENFANT", "prenom": "Sylvia", "dateNaissance": "2007-10-20T00:00:00.000Z"}]', '{"colisIn": 4, "enAttente": true, "courrierIn": 1, "recommandeIn": 3, "dateInteraction": "2020-07-29T11:46:34.680Z"}', '[{"label": "CNI", "filetype": "image/jpeg", "createdAt": "2019-10-07T18:51:31.578Z", "createdBy": "Patrick Roméro"}]', '["373144a3d9d0b3f4c84bd527a5cff880.jpg"]', 5, NULL, '{"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"nom": "LHSS Plaisance", "actif": true, "adresse": "12 rue ridder 75014 Paris", "dateFin": "2020-11-07T00:00:00.000Z", "dateDebut": "2020-06-03T12:20:00.603Z"}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('427e6af6-706b-40d4-9506-de21190e6f0d', '2021-01-27 09:21:49.173276+00', '2021-06-15 09:19:07.821605+00', 3, 4, '4', 1, 'Loumiel', 'Lisa', 'Lilou', 'femme', '1990-04-18 00:00:00+00', 'Marseille', NULL, NULL, '0142494242', '{"email": false, "phone": false}', '2019-08-09 00:00:00+00', 'PREMIERE_DOM', '{"uuid": "0c3f2589-d5d3-4138-a4bc-2a594678461e", "motif": "NON_RESPECT_REGLEMENT", "statut": "RADIE", "userId": 1, "dateFin": "2019-09-12T00:00:00.000Z", "typeDom": "PREMIERE", "userName": "Patrick Roméro", "dateDebut": "2019-08-09T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}', '[{"uuid": "0c3f2589-d5d3-4138-a4bc-2a594678461e", "motif": "NON_RESPECT_REGLEMENT", "statut": "RADIE", "userId": 1, "dateFin": "2019-09-12T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-08-09T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}]', '[]', '{"appel": null, "visite": null, "colisIn": 0, "enAttente": false, "courrierIn": 0, "nbCourrier": 0, "courrierOut": null, "recommandeIn": 0, "recommandeOut": null, "dateInteraction": "2021-01-27T09:21:49.240Z"}', '[]', '[]', 5, NULL, '{"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"nom": null, "actif": false, "adresse": null}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('4dcdcddc-fad2-4827-aac5-0acf1df7b5bc', '2021-01-27 09:21:49.173276+00', '2021-06-15 09:19:07.821605+00', 4, 5, '5', 1, 'Derick', 'Inspecteur', NULL, 'homme', '1911-05-24 00:00:00+00', 'Bergerac', NULL, NULL, NULL, '{"email": false, "phone": false}', NULL, 'PREMIERE_DOM', '{"uuid": "c6aabd3b-7485-4efd-8c09-5080b91709d9", "statut": "ATTENTE_DECISION", "userId": 2, "dateFin": "2021-01-27T09:21:49.242Z", "userName": "Isabelle Juste", "dateDecision": "2019-10-07T19:28:10.777Z", "orientationDetails": null}', '[{"uuid": "6f18c8d5-27b7-45c5-882d-e23876a3b1ed", "motif": "", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2020-10-07T18:52:09.797Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-10-07T18:52:09.797Z", "orientation": "", "dateDecision": "2019-10-07T18:53:06.510Z", "motifDetails": "", "orientationDetails": ""}, {"uuid": "c6aabd3b-7485-4efd-8c09-5080b91709d9", "statut": "ATTENTE_DECISION", "userId": 2, "dateFin": "2021-01-27T09:21:49.242Z", "typeDom": "PREMIERE_DOM", "userName": "Isabelle Juste", "dateDebut": "2019-10-07T19:28:10.777Z", "dateDecision": "2019-10-07T19:28:10.777Z", "orientationDetails": null}]', '[{"nom": "Inspecteur", "lien": "enfant", "prenom": "Gadget", "dateNaissance": "1990-10-12T00:00:00.000Z"}]', '{"appel": null, "visite": null, "colisIn": 0, "enAttente": false, "courrierIn": 0, "nbCourrier": 0, "courrierOut": null, "recommandeIn": 0, "recommandeOut": null, "dateInteraction": "2021-01-27T09:21:49.242Z"}', '[{"label": "Carte identité", "filetype": "image/jpeg", "createdAt": "2019-10-07T18:53:32.922Z", "createdBy": "Patrick Roméro"}]', '["8242ba1bc7f3c3971f761b6a347fc1c4.jpg"]', 0, '{"userId": 2, "dateRdv": "2019-10-07T19:30:02.675Z", "userName": "Juste Isabelle"}', '{"cause": "cause5", "revenus": false, "residence": "HEBERGEMENT_TIERS", "causeDetail": null, "liencommune": null, "commentaires": null, "domiciliation": false, "accompagnement": true, "residenceDetail": null, "accompagnementDetail": "CCAS des mureaux"}', '{"npai": {"actif": false}, "transfert": {"nom": null, "actif": false, "adresse": null}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('b2c26e55-ab37-457d-b307-6fe161050a9b', '2021-06-28 13:24:22.924091+00', '2021-06-28 13:25:51.257154+00', 14, 7, '7', 1, 'Dupont', 'Pauline', 'Paula', 'homme', '1996-01-02 00:00:00+00', 'Paris', 'fr', '', '', '{"phone": false, "phoneNumber": null}', '2021-06-28 00:00:00+00', 'PREMIERE_DOM', '{"statut": "VALIDE", "userId": 1, "dateFin": "2022-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "dateDecision": "2021-06-28T13:25:20.685Z"}', '[{"uuid": "db7ff8b2-66e3-47ee-9346-e080945b418e", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:24:22.920Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:24:22.920Z"}, {"statut": "VALIDE", "userId": 1, "dateFin": "2022-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "dateDecision": "2021-06-28T13:25:20.685Z"}]', '[{"nom": "Dupont", "lien": "ENFANT", "prenom": "Paulin", "dateNaissance": "2015-08-15T00:00:00.000Z"}, {"nom": "Dupont", "lien": "ENFANT", "prenom": "Sophie", "dateNaissance": "2018-12-03T00:00:00.000Z"}]', '{"colisIn": 1, "enAttente": true, "courrierIn": 2, "recommandeIn": 0, "dateInteraction": "2021-06-28T13:25:36.004Z"}', '[]', '[]', 5, '{"userId": 1, "dateRdv": "2021-06-28T13:23:27.041Z", "userName": "Patrick Roméro"}', '{"cause": "RUPTURE", "raison": "AUTRE", "revenus": false, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": "Ceci est un commentaire sur l''entretien", "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}', '{"npai": {"actif": false}, "transfert": {"actif": false}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
        INSERT INTO public.usager VALUES ('5215f197-5f9b-4c2a-8b2e-60a0fcc5fc85', '2021-06-28 13:26:31.533838+00', '2021-06-28 13:27:25.50489+00', 6, 8, '8', 1, 'Smith', 'John', '', 'homme', '2000-03-15 00:00:00+00', 'Londres', NULL, '', '', '{"phone": false, "phoneNumber": null}', NULL, 'PREMIERE_DOM', '{"motif": "LIEN_COMMUNE", "statut": "REFUS", "userId": 1, "dateFin": "2021-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "orientation": "asso", "dateDecision": "2021-06-28T13:27:25.493Z", "motifDetails": null, "orientationDetails": "CCAS de sa commune"}', '[{"uuid": "6d781a28-a5dc-4d95-826d-6aa0f78e5864", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:26:31.533Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:26:31.533Z"}, {"motif": "LIEN_COMMUNE", "statut": "REFUS", "userId": 1, "dateFin": "2021-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "orientation": "asso", "dateDecision": "2021-06-28T13:27:25.493Z", "motifDetails": null, "orientationDetails": "CCAS de sa commune"}]', '[]', '{"colisIn": 0, "enAttente": false, "courrierIn": 0, "recommandeIn": 0, "dateInteraction": "2021-06-28T13:26:31.530Z"}', '[]', '[]', 5, '{"userId": 1, "dateRdv": "2021-06-28T13:25:42.151Z", "userName": "Patrick Roméro"}', '{}', '{"npai": {"actif": false}, "transfert": {"actif": false}, "historique": {"transfert": [], "procuration": []}, "procuration": {"actif": false}}', NULL);
      `
    );

    appLogger.warn("> usager_history");
    await queryRunner.query(
      `
      INSERT INTO public.usager_history VALUES ('b72110a6-5fc9-4b1e-900a-6d37abcf3fca', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, '97b7e840-0e93-4bf4-ba7d-0a406aa898f2', 2, 1, NULL, '[{"rdv": {}, "uuid": "8e143f47-89fd-4a47-b2f3-a4b5b2428b76", "typeDom": "RENOUVELLEMENT", "decision": {"uuid": "178ad317-0bd1-41e7-ad87-fd371f166310", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2020-02-12T00:00:00.000Z", "typeDom": "RENOUVELLEMENT", "userName": "Patrick Roméro", "dateDebut": "2019-02-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-02-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}, "isActive": true, "createdAt": "2019-02-12T00:00:00.000Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "ERRANCE", "raison": "AUTRE", "revenus": false, "residence": "DOMICILE_MOBILE", "typeMenage": "COUPLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": true, "orientationDetail": "", "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": true, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "Karamoko", "lien": "CONJOINT", "prenom": "Mauricette", "dateNaissance": "1978-12-20T00:00:00.000Z"}], "createdEvent": "new-decision", "historyBeginDate": "2019-02-12T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('983a9a4c-960d-4573-942f-b96ad6b1e418', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, 'e074c416-093a-46fc-ae47-77a3bc111d35', 3, 1, NULL, '[{"rdv": {}, "uuid": "b2a50541-a5ae-40b7-8d78-3382f8480f3f", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "30ababd0-8e2f-4917-9662-9c812d604dda", "motif": "SATURATION", "statut": "REFUS", "userId": 1, "dateFin": "2020-08-09T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-09-12T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}, "isActive": false, "createdAt": "2019-09-12T00:00:00.000Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}, "ayantsDroits": [], "createdEvent": "new-decision", "historyBeginDate": "2019-09-12T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('3912f2ce-3afb-4864-aa45-b0926415af55', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, 'ee7ef219-b101-422c-8ad4-4d5aedf9caad', 6, 1, NULL, '[{"rdv": {}, "uuid": "49d9ccf6-bbb9-42ca-b299-2dd31b20e337", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "8bd1eae7-7635-4c75-ba64-ad78b1141baf", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2020-11-01T17:50:10.042Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2020-11-01T17:50:10.042Z", "dateDecision": "2020-11-01T17:50:10.042Z", "orientationDetails": null}, "isActive": false, "createdAt": "2020-11-01T17:50:10.042Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "VIOLENCE", "raison": "EXERCICE_DROITS", "revenus": true, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "TEST 1 ", "lien": "PARENT", "prenom": "TEST 2 ", "dateNaissance": "1991-12-20T00:00:00.000Z"}], "createdEvent": "new-decision", "historyEndDate": "2020-10-31T23:59:59.999Z", "historyBeginDate": "2020-11-01T00:00:00.000Z"}, {"rdv": {}, "uuid": "e3b7e93c-eda7-43c1-a335-1600fe3277f7", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "bf35d476-35d6-4d3d-93b4-dfd49816904f", "statut": "VALIDE", "userId": 1, "dateFin": "2021-10-31T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2020-11-01T00:00:00.000Z", "dateDecision": "2020-11-01T17:50:29.003Z", "orientationDetails": null}, "isActive": true, "createdAt": "2020-11-01T17:50:29.003Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "VIOLENCE", "raison": "EXERCICE_DROITS", "revenus": true, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "TEST 1 ", "lien": "PARENT", "prenom": "TEST 2 ", "dateNaissance": "1991-12-20T00:00:00.000Z"}], "createdEvent": "new-decision", "historyBeginDate": "2020-11-01T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('5b4084a3-df01-4eff-87bd-09fcf02ea80b', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, '860ffa4c-88c4-4e1c-ad42-5a05cdf39830', 1, 1, NULL, '[{"rdv": {}, "uuid": "9e47e6cc-dcec-4023-824d-48af0d0b7539", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "52ba789e-eb21-4d84-9176-abe1e0d3c778", "motif": null, "statut": "VALIDE", "userId": 1, "dateFin": "2019-02-27T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2018-03-01T00:00:00.000Z", "orientation": "", "dateDecision": "2018-03-01T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}, "isActive": true, "createdAt": "2018-03-01T00:00:00.000Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "Martinez", "lien": "ENFANT", "prenom": "Luiz", "dateNaissance": "1992-12-20T00:00:00.000Z"}, {"nom": "Martinez", "lien": "ENFANT", "prenom": "Sylvia", "dateNaissance": "2007-10-20T00:00:00.000Z"}], "createdEvent": "new-decision", "historyBeginDate": "2018-03-01T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('e794c3d3-4af3-4ab1-a284-a0acaa69ca69', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, '427e6af6-706b-40d4-9506-de21190e6f0d', 4, 1, NULL, '[{"rdv": {}, "uuid": "36aa8ea2-f22b-48c4-8d22-d7d82a70e808", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "0c3f2589-d5d3-4138-a4bc-2a594678461e", "motif": "NON_RESPECT_REGLEMENT", "statut": "RADIE", "userId": 1, "dateFin": "2019-09-12T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-08-09T00:00:00.000Z", "orientation": "", "dateDecision": "2019-09-12T00:00:00.000Z", "motifDetails": "", "orientationDetails": ""}, "isActive": false, "createdAt": "2019-09-12T00:00:00.000Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": null, "raison": null, "revenus": null, "pourquoi": null, "residence": null, "typeMenage": null, "causeDetail": null, "liencommune": null, "commentaires": null, "raisonDetail": null, "rattachement": null, "domiciliation": null, "revenusDetail": null, "accompagnement": null, "pourquoiDetail": null, "residenceDetail": null, "accompagnementDetail": null}, "ayantsDroits": [], "createdEvent": "new-decision", "historyBeginDate": "2019-08-09T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('a929d923-03b1-448e-ad84-ae8022bb6375', '2021-06-15 09:19:07.821605+00', '2021-06-15 09:19:07.821605+00', 1, '4dcdcddc-fad2-4827-aac5-0acf1df7b5bc', 5, 1, NULL, '[{"rdv": {}, "uuid": "2f085735-e57e-408e-912a-85be84be0f54", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "6f18c8d5-27b7-45c5-882d-e23876a3b1ed", "motif": "", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2020-10-07T18:52:09.797Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2019-10-07T18:52:09.797Z", "orientation": "", "dateDecision": "2019-10-07T18:53:06.510Z", "motifDetails": "", "orientationDetails": ""}, "isActive": false, "createdAt": "2019-10-07T18:53:06.510Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "cause5", "revenus": false, "residence": "HEBERGEMENT_TIERS", "causeDetail": null, "liencommune": null, "commentaires": null, "domiciliation": false, "accompagnement": true, "residenceDetail": null, "accompagnementDetail": "CCAS des mureaux"}, "ayantsDroits": [{"nom": "Inspecteur", "lien": "enfant", "prenom": "Gadget", "dateNaissance": "1990-10-12T00:00:00.000Z"}], "createdEvent": "new-decision", "historyEndDate": "2019-10-06T23:59:59.999Z", "historyBeginDate": "2019-10-07T00:00:00.000Z"}, {"rdv": {}, "uuid": "5a51890d-e9c6-4ac6-843f-6d536ca35674", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "c6aabd3b-7485-4efd-8c09-5080b91709d9", "statut": "ATTENTE_DECISION", "userId": 2, "dateFin": "2021-01-27T09:21:49.242Z", "typeDom": "PREMIERE_DOM", "userName": "Isabelle Juste", "dateDebut": "2019-10-07T19:28:10.777Z", "dateDecision": "2019-10-07T19:28:10.777Z", "orientationDetails": null}, "isActive": false, "createdAt": "2019-10-07T19:28:10.777Z", "createdBy": {"userId": 2, "userName": "Isabelle Juste"}, "entretien": {"cause": "cause5", "revenus": false, "residence": "HEBERGEMENT_TIERS", "causeDetail": null, "liencommune": null, "commentaires": null, "domiciliation": false, "accompagnement": true, "residenceDetail": null, "accompagnementDetail": "CCAS des mureaux"}, "ayantsDroits": [{"nom": "Inspecteur", "lien": "enfant", "prenom": "Gadget", "dateNaissance": "1990-10-12T00:00:00.000Z"}], "createdEvent": "new-decision", "historyBeginDate": "2019-10-07T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('d1466297-e227-458c-aa70-537bf046f3d3', '2021-06-28 13:26:31.539355+00', '2021-06-28 13:27:25.500685+00', 4, '5215f197-5f9b-4c2a-8b2e-60a0fcc5fc85', 8, 1, NULL, '[{"rdv": {}, "uuid": "400400ee-c8e6-49b1-9dde-7d615eddccb5", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "6d781a28-a5dc-4d95-826d-6aa0f78e5864", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:26:31.533Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T13:26:31.533Z", "dateDecision": "2021-06-28T13:26:31.533Z"}, "isActive": false, "createdAt": "2021-06-28T13:26:31.533Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [], "createdEvent": "new-decision", "etapeDemande": 1, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:26:00.000Z", "userName": "Patrick Roméro"}, "uuid": "86cf984d-0f88-4197-a72a-9fa0951a6db5", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "6d781a28-a5dc-4d95-826d-6aa0f78e5864", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:26:31.533Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:26:31.533Z"}, "isActive": false, "createdAt": "2021-06-28T13:26:39.153Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [], "createdEvent": "update-rdv", "etapeDemande": 1, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:25:42.151Z", "userName": "Patrick Roméro"}, "uuid": "3c3caa75-38ec-40a5-a905-42e881050bf0", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "6d781a28-a5dc-4d95-826d-6aa0f78e5864", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:26:31.533Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:26:31.533Z"}, "isActive": false, "createdAt": "2021-06-28T13:26:42.157Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [], "createdEvent": "update-rdv", "etapeDemande": 2, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:25:42.151Z", "userName": "Patrick Roméro"}, "uuid": "cba01ccb-fc25-494b-b039-b1cc37a3e022", "typeDom": "PREMIERE_DOM", "decision": {"motif": "LIEN_COMMUNE", "statut": "REFUS", "userId": 1, "dateFin": "2021-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "orientation": "asso", "dateDecision": "2021-06-28T13:27:25.493Z", "motifDetails": null, "orientationDetails": "CCAS de sa commune"}, "isActive": false, "createdAt": "2021-06-28T13:27:25.493Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [], "createdEvent": "new-decision", "etapeDemande": 5, "historyBeginDate": "2021-06-28T00:00:00.000Z"}]');
      INSERT INTO public.usager_history VALUES ('ce874a1e-8ac1-42c8-9929-dcfb592f5523', '2021-06-28 13:24:22.936448+00', '2021-06-28 13:25:20.69241+00', 4, 'b2c26e55-ab37-457d-b307-6fe161050a9b', 7, 1, NULL, '[{"rdv": {}, "uuid": "d3b443ce-4708-47d1-a87d-a860ce3fd4b4", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "db7ff8b2-66e3-47ee-9346-e080945b418e", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:24:22.920Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T13:24:22.920Z", "dateDecision": "2021-06-28T13:24:22.920Z"}, "isActive": false, "createdAt": "2021-06-28T13:24:22.920Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [{"nom": "Dupont", "lien": "ENFANT", "prenom": "Paulin", "dateNaissance": "2015-08-15T00:00:00.000Z"}, {"nom": "Dupont", "lien": "ENFANT", "prenom": "Sophie", "dateNaissance": "2018-12-03T00:00:00.000Z"}], "createdEvent": "new-decision", "etapeDemande": 1, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:23:27.041Z", "userName": "Patrick Roméro"}, "uuid": "0a01158b-c0ab-4338-ba58-b46c7553cf39", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "db7ff8b2-66e3-47ee-9346-e080945b418e", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:24:22.920Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:24:22.920Z"}, "isActive": false, "createdAt": "2021-06-28T13:24:27.050Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {}, "ayantsDroits": [{"nom": "Dupont", "lien": "ENFANT", "prenom": "Paulin", "dateNaissance": "2015-08-15T00:00:00.000Z"}, {"nom": "Dupont", "lien": "ENFANT", "prenom": "Sophie", "dateNaissance": "2018-12-03T00:00:00.000Z"}], "createdEvent": "update-rdv", "etapeDemande": 2, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:23:27.041Z", "userName": "Patrick Roméro"}, "uuid": "1a721c90-5ba1-4aa8-ad95-c2a77fa7c620", "typeDom": "PREMIERE_DOM", "decision": {"uuid": "db7ff8b2-66e3-47ee-9346-e080945b418e", "statut": "INSTRUCTION", "userId": 1, "dateFin": "2021-06-28T13:24:22.920Z", "userName": "Patrick Roméro", "dateDecision": "2021-06-28T13:24:22.920Z"}, "isActive": false, "createdAt": "2021-06-28T13:25:11.943Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "RUPTURE", "raison": "AUTRE", "revenus": false, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": "Ceci est un commentaire sur l''entretien", "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "Dupont", "lien": "ENFANT", "prenom": "Paulin", "dateNaissance": "2015-08-15T00:00:00.000Z"}, {"nom": "Dupont", "lien": "ENFANT", "prenom": "Sophie", "dateNaissance": "2018-12-03T00:00:00.000Z"}], "createdEvent": "update-entretien", "etapeDemande": 3, "historyEndDate": "2021-06-27T23:59:59.999Z", "historyBeginDate": "2021-06-28T00:00:00.000Z"}, {"rdv": {"userId": 1, "dateRdv": "2021-06-28T13:23:27.041Z", "userName": "Patrick Roméro"}, "uuid": "becf0e3b-edc7-4e5c-87de-285d67366737", "typeDom": "PREMIERE_DOM", "decision": {"statut": "VALIDE", "userId": 1, "dateFin": "2022-06-28T00:00:00.000Z", "typeDom": "PREMIERE_DOM", "userName": "Patrick Roméro", "dateDebut": "2021-06-28T00:00:00.000Z", "dateDecision": "2021-06-28T13:25:20.685Z"}, "isActive": true, "createdAt": "2021-06-28T13:25:20.685Z", "createdBy": {"userId": 1, "userName": "Patrick Roméro"}, "entretien": {"cause": "RUPTURE", "raison": "AUTRE", "revenus": false, "residence": "HEBERGEMENT_TIERS", "typeMenage": "FEMME_ISOLE_AVEC_ENFANT", "causeDetail": null, "liencommune": null, "orientation": false, "commentaires": "Ceci est un commentaire sur l''entretien", "raisonDetail": null, "rattachement": null, "domiciliation": true, "revenusDetail": null, "accompagnement": false, "residenceDetail": null, "orientationDetail": null, "accompagnementDetail": null}, "ayantsDroits": [{"nom": "Dupont", "lien": "ENFANT", "prenom": "Paulin", "dateNaissance": "2015-08-15T00:00:00.000Z"}, {"nom": "Dupont", "lien": "ENFANT", "prenom": "Sophie", "dateNaissance": "2018-12-03T00:00:00.000Z"}], "createdEvent": "new-decision", "etapeDemande": 5, "historyBeginDate": "2021-06-28T00:00:00.000Z"}]');
      `
    );

    appLogger.warn(">> UNIQUE KEYS");
    await queryRunner.query(
      `
        ALTER TABLE ONLY public.app_user ADD CONSTRAINT "UQ_22a5c4a3d9b2fb8e4e73fc4ada1" UNIQUE (id);
        ALTER TABLE ONLY public.usager_history      ADD CONSTRAINT "UQ_29a873927e96c4290d288d594f4" UNIQUE ("structureId", "usagerRef");
        ALTER TABLE ONLY public.app_user ADD CONSTRAINT "UQ_3fa909d0e37c531ebc237703391" UNIQUE (email);
        ALTER TABLE ONLY public.usager_history ADD CONSTRAINT "UQ_7356ee08f3ac6e3e1c6fe08bd81" UNIQUE ("usagerUUID");
        ALTER TABLE ONLY public.structure ADD CONSTRAINT "UQ_90ac7986e769d602d218075215c" UNIQUE (id);
        ALTER TABLE ONLY public.structure_doc ADD CONSTRAINT "UQ_b1dfa7ef1934657b38072e749e3" UNIQUE (id);
        ALTER TABLE ONLY public.app_user_security ADD CONSTRAINT "UQ_cec1c2a0820383d2a4045b5f902" UNIQUE ("userId");
        ALTER TABLE ONLY public.usager ADD CONSTRAINT "UQ_e76056fb098740de66d58a5055a" UNIQUE ("structureId", ref);
      `
    );

    appLogger.warn(">> PRIMARY KEYS");
    await queryRunner.query(
      `
        ALTER TABLE ONLY public.usager ADD CONSTRAINT "PK_1bb36e24229bec446a281573612" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.usager_history ADD CONSTRAINT "PK_29638b771d16000882db14bab40" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.message_sms ADD CONSTRAINT "PK_4d9f00a5bf0f7f424985b156043" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.message_email ADD CONSTRAINT "PK_6bffd9b803b67cd4e099fc795e1" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.structure_doc ADD CONSTRAINT "PK_6d6be27ca865c8ba30b9c862b70" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.app_user ADD CONSTRAINT "PK_a58dc229068f494a0360b170322" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.app_user_security ADD CONSTRAINT "PK_a617f0127221193d06271877ae0" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.structure ADD CONSTRAINT "PK_a92a6b3dd54efb4ab48b2d6e7c1" PRIMARY KEY (uuid);
        ALTER TABLE ONLY public.monitor_batch_process ADD CONSTRAINT "PK_f00131d757d1ddf39e70901e372" PRIMARY KEY (uuid);
      `
    );

    appLogger.warn(">> INDEXES");
    await queryRunner.query(
      `
        CREATE INDEX "IDX_22a5c4a3d9b2fb8e4e73fc4ada" ON public.app_user USING btree (id);
        CREATE INDEX "IDX_36a2e869faca3bb31cbacdf81b" ON public.usager_history USING btree ("structureId");
        CREATE INDEX "IDX_3fa909d0e37c531ebc23770339" ON public.app_user USING btree (email);
        CREATE INDEX "IDX_4950bb2d2181b91b9219f9039c" ON public.app_user_security USING btree ("structureId");
        CREATE INDEX "IDX_64204d3f209764ef8d08f334bd" ON public.app_user USING btree ("structureId");
        CREATE INDEX "IDX_7356ee08f3ac6e3e1c6fe08bd8" ON public.usager_history USING btree ("usagerUUID");
        CREATE INDEX "IDX_8198a25ae40584a38bce1dd4d2" ON public.usager USING btree (ref);
        CREATE INDEX "IDX_90ac7986e769d602d218075215" ON public.structure USING btree (id);
        CREATE INDEX "IDX_f9c3ee379ce68d4acfe4199a33" ON public.interactions USING btree ("usagerUUID");
        CREATE INDEX "IDX_0c5d7e9585c77ff002d4072c3c" ON public.interactions USING btree ("usagerRef");
        CREATE INDEX "IDX_1953f5ad67157bada8774f7e24" ON public.interactions USING btree ("structureId");
        CREATE INDEX "IDX_9992157cbe54583ff7002ae4c0" ON public.interactions USING btree ("userId");
        CREATE INDEX "IDX_a44d882d224e368efdee8eb8c8" ON public.usager USING btree ("structureId");
        CREATE INDEX "IDX_b1dfa7ef1934657b38072e749e" ON public.structure_doc USING btree (id);
        CREATE INDEX "IDX_cec1c2a0820383d2a4045b5f90" ON public.app_user_security USING btree ("userId");
        CREATE INDEX "IDX_d79d466c870df0b58864836899" ON public.structure_doc USING btree ("structureId");
      `
    );

    appLogger.warn("> Create Foreign KEYS");
    await queryRunner.query(
      `
      ALTER TABLE ONLY public.usager_history
          ADD CONSTRAINT "FK_36a2e869faca3bb31cbacdf81ba" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.app_user_security
          ADD CONSTRAINT "FK_4950bb2d2181b91b9219f9039c9" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.app_user
          ADD CONSTRAINT "FK_64204d3f209764ef8d08f334bd7" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.usager_history
          ADD CONSTRAINT "FK_7356ee08f3ac6e3e1c6fe08bd81" FOREIGN KEY ("usagerUUID") REFERENCES public.usager(uuid);

      ALTER TABLE ONLY public.usager
          ADD CONSTRAINT "FK_a44d882d224e368efdee8eb8c80" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.app_user_security
          ADD CONSTRAINT "FK_cec1c2a0820383d2a4045b5f902" FOREIGN KEY ("userId") REFERENCES public.app_user(id);

      ALTER TABLE ONLY public.structure_doc
          ADD CONSTRAINT "FK_d79d466c870df0b58864836899d" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.interactions
          ADD CONSTRAINT "FK_1953f5ad67157bada8774f7e245" FOREIGN KEY ("structureId") REFERENCES public.structure(id);

      ALTER TABLE ONLY public.interactions
          ADD CONSTRAINT "FK_f9c3ee379ce68d4acfe4199a335" FOREIGN KEY ("usagerUUID") REFERENCES public.usager(uuid);

      `
    );
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(
      `ALTER TABLE "structure_doc" DROP CONSTRAINT "FK_d79d466c870df0b58864836899d"`
    );
    await queryRunner.query(
      `ALTER TABLE "app_user_security" DROP CONSTRAINT "FK_4950bb2d2181b91b9219f9039c9"`
    );
    await queryRunner.query(
      `ALTER TABLE "app_user_security" DROP CONSTRAINT "FK_cec1c2a0820383d2a4045b5f902"`
    );
    await queryRunner.query(
      `ALTER TABLE "app_user" DROP CONSTRAINT "FK_64204d3f209764ef8d08f334bd7"`
    );
    await queryRunner.query(
      `ALTER TABLE "interactions" DROP CONSTRAINT "FK_f9c3ee379ce68d4acfe4199a335"`
    );
    await queryRunner.query(
      `ALTER TABLE "interactions" DROP CONSTRAINT "FK_1953f5ad67157bada8774f7e245"`
    );
    await queryRunner.query(
      `ALTER TABLE "usager" DROP CONSTRAINT "FK_a44d882d224e368efdee8eb8c80"`
    );
    await queryRunner.query(`DROP INDEX "IDX_d79d466c870df0b58864836899"`);
    await queryRunner.query(`DROP INDEX "IDX_b1dfa7ef1934657b38072e749e"`);
    await queryRunner.query(`DROP TABLE "structure_doc"`);
    await queryRunner.query(`DROP TABLE "message_sms"`);
    await queryRunner.query(`DROP INDEX "IDX_4950bb2d2181b91b9219f9039c"`);
    await queryRunner.query(`DROP INDEX "IDX_cec1c2a0820383d2a4045b5f90"`);
    await queryRunner.query(`DROP TABLE "app_user_security"`);
    await queryRunner.query(`DROP INDEX "IDX_64204d3f209764ef8d08f334bd"`);
    await queryRunner.query(`DROP INDEX "IDX_22a5c4a3d9b2fb8e4e73fc4ada"`);
    await queryRunner.query(`DROP INDEX "IDX_3fa909d0e37c531ebc23770339"`);
    await queryRunner.query(`DROP TABLE "app_user"`);
    await queryRunner.query(`DROP INDEX "IDX_32881a91eaf51f28d3f9cf0958"`);
    await queryRunner.query(`DROP TABLE "monitor_batch_process"`);
    await queryRunner.query(`DROP TABLE "message_email"`);
    await queryRunner.query(`DROP INDEX "IDX_9992157cbe54583ff7002ae4c0"`);
    await queryRunner.query(`DROP INDEX "IDX_f9c3ee379ce68d4acfe4199a33"`);
    await queryRunner.query(`DROP INDEX "IDX_0c5d7e9585c77ff002d4072c3c"`);
    await queryRunner.query(`DROP INDEX "IDX_1953f5ad67157bada8774f7e24"`);
    await queryRunner.query(`DROP TABLE "interactions"`);
    await queryRunner.query(`DROP INDEX "IDX_a44d882d224e368efdee8eb8c8"`);
    await queryRunner.query(`DROP INDEX "IDX_8198a25ae40584a38bce1dd4d2"`);
    await queryRunner.query(`DROP TABLE "usager"`);
    await queryRunner.query(`DROP INDEX "IDX_90ac7986e769d602d218075215"`);
    await queryRunner.query(`DROP TABLE "structure"`);
  }
}
