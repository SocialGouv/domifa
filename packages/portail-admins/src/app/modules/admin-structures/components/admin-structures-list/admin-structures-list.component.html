<div>
  <div class="home-message">
    <div class="row">
      <div class="col-11">
        <h1 class="text-primary font-weight-bold">
          Structures
          <span *ngIf="!!allStructuresVM && !!filteredStructuresVM"
            >({{ filteredStructuresVM.length
            }}<span
              *ngIf="allStructuresVM.length !== filteredStructuresVM.length"
              >/{{ allStructuresVM.length }}</span
            >)</span
          >
        </h1>
      </div>
      <div class="col">
        <div
          ngbDropdown
          id="dropdownAuthenticatedMenu"
          display="dynamic"
          placement="bottom-right"
          class="ms-2 me-2 d-inline-block bg-white"
        >
          <button class="btn btn-outline-primary" ngbDropdownToggle>
            Menu
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownAuthenticatedMenu">
            <a ngbDropdownItem [routerLink]="['/structures/rapports']">
              <fa-icon
                [icon]="['fas', 'list-alt']"
                aria-hidden="true"
                class="me-2"
              ></fa-icon>
              Rapports
            </a>
            <a ngbDropdownItem [routerLink]="['/structures']">
              <fa-icon
                [icon]="['fas', 'list-alt']"
                aria-hidden="true"
                class="me-2"
              ></fa-icon>
              Structures
            </a>
            <a ngbDropdownItem [routerLink]="['/structures/stats']">
              <fa-icon
                aria-hidden="true"
                [icon]="['fas', 'chart-bar']"
                class="me-2"
              ></fa-icon>
              Stats
            </a>

            <app-admin-structures-export></app-admin-structures-export>
          </div>
        </div>
      </div>
    </div>

    <label for="search"
      >Recherche par #ID, nom, région, département, email...</label
    >
    <div id="searchbar" class="mt-4 d-flex">
      <span
        class="icon"
        id="search_icon"
        *ngIf="filters?.searchString?.trim() === ''"
      >
        <fa-icon aria-hidden="true" [icon]="['fas', 'search']"></fa-icon>
      </span>
      <span
        class="icon"
        id="times_icon"
        *ngIf="filters?.searchString?.trim() !== ''"
        (click)="updateSearch('')"
      >
        <fa-icon aria-hidden="true" [icon]="['fas', 'times']"></fa-icon>
      </span>

      <input
        class="flex-grow-1 form-control"
        type="text"
        autofocus
        id="search"
        [ngModel]="filters.searchString"
        (input)="onSearchChange($event)"
      />
    </div>
    <app-admin-structures-table
      *ngIf="this.filteredStructuresVM"
      [structuresVM]="this.filteredStructuresVM"
      (sort)="sortDashboard($event)"
    ></app-admin-structures-table>
  </div>
</div>
