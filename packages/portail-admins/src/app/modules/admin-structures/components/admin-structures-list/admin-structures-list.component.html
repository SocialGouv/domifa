<div class="head-page pt-4">
  <div class="container">
    <div class="row">
      <div class="col">
        <div id="search-bar">
          <label for="searchInput" class="visually-hidden">
            Rechercher un domicilié
          </label>
          <input
            id="searchInput"
            type="text"
            name="searchInput"
            #searchInput
            class="form-control"
            placeholder="Recherche"
          />
          <button
            type="button"
            aria-label="Supprimer le texte saisie"
            *ngIf="searchInput?.value !== ''"
            (click)="resetSearchBar()"
            id="deleteSearchIcon"
          >
            <fa-icon
              aria-hidden="true"
              [icon]="['fas', 'circle-xmark']"
            ></fa-icon>
          </button>
        </div>
      </div>

      <div class="col text-end">
        <app-admin-structures-export></app-admin-structures-export>
      </div>
    </div>
    <nav id="statut-selector" class="mt-4 row d-print-none">
      <button type="button" class="col-md-2">
        Structures
        <span *ngIf="!!structures && !!filteredStructures"
          >({{ filteredStructures.length
          }}<span *ngIf="totalStructures !== filteredStructures.length"
            >/{{ totalStructures }}</span
          >)</span
        >
      </button>
      <button type="button" class="col-md-2">Utilisateurs (à venir)</button>
    </nav>
  </div>
</div>

<div
  *ngIf="searching"
  @fadeInOut
  role="alert"
  aria-busy="true"
  aria-label="Chargement des données..."
  class="text-center content-overlay d-print-none"
>
  <div>
    <fa-icon
      [icon]="['fas', 'spinner']"
      class="spinner"
      [spin]="true"
      aria-hidden="true"
    ></fa-icon>
    <b>Chargement des données...</b>
  </div>
</div>

<app-admin-structures-table
  *ngIf="this.filteredStructures && !searching"
  [structures]="this.structures"
  [filters]="this.filters"
  (sort)="sortDashboard($event)"
></app-admin-structures-table>

<div #sentinel class="sentinel-preload"></div>
