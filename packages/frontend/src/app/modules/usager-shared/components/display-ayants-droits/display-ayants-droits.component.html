<div
  #tooltipAyantsDroit="ngbTooltip"
  [ngbTooltip]="ayantsDroitsInfos"
  class="fr-badge fr-badge--success"
  *ngIf="usager.ayantsDroits.length > 0"
  tabindex="0"
>
  <p class="m-0">
    <span *ngIf="usager.ayantsDroits.length > 1">
      {{ usager.ayantsDroits.length }} ayants droit
    </span>
    <span *ngIf="usager.ayantsDroits.length === 1">1 ayant droit</span>
  </p>
</div>

<ng-template #ayantsDroitsInfos class="p-4">
  <div
    class="distribution-tooltip text-start"
    tabindex="0"
    [ngbTooltip]="ayantsDroitsInfos"
  >
    <ul>
      <li class="p-1" *ngFor="let ayantDroit of usager.ayantsDroits">
        <strong class="text-primary">{{ ayantDroit.nom }}</strong>
        {{ ayantDroit.prenom }}, n√©(e) le
        {{ ayantDroit.dateNaissance | date : "dd MMMM yyyy" }} ({{
          LIEN_PARENTE_LABELS[ayantDroit.lien]
        }})
      </li>
    </ul>
  </div>
</ng-template>
