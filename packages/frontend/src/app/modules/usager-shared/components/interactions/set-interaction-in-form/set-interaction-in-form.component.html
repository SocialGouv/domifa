<div class="modal-header">
  <h4 class="px-1 py-1 my-1">
    Nouveaux courriers pour
    <span class="text-primary">
      {{ usager | usagerNomComplet }} -
      <span *ngIf="usager.customRef">{{ usager.customRef }}</span>
      <span *ngIf="!usager.customRef">{{ usager.ref }}</span>
    </span>
  </h4>
</div>
<div class="modal-body text-center">
  <div class="d-flex align-items-center">
    <div class="interaction-zone p-1 me-4 my-2">
      <div class="interaction-icon-box">
        <div
          [@bounce]="interactionFormData.courrierIn.nbCourrier"
          *ngIf="interactionFormData.courrierIn.nbCourrier > 0"
          class="interaction-notification"
        >
          {{ interactionFormData.courrierIn.nbCourrier }}
        </div>
        <div class="interaction-icon icon-courrier"></div>
      </div>
      <div class="interaction-actions">
        <button
          type="button"
          (click)="decrement('courrierIn')"
          class="btn btn-primary"
          aria-label="Retirer un courrier"
          [disabled]="interactionFormData.courrierIn.nbCourrier === 0"
        >
          <span class="icon-moins" aria-hidden="true"></span>
        </button>
        <span class="px-1"></span>
        <button
          type="button"
          class="btn btn-primary"
          aria-label="Ajouter un courrier"
          (click)="increment('courrierIn')"
        >
          <span class="icon-plus" aria-hidden="true"></span>
        </button>
      </div>
      <span class="interaction-label">Courriers</span>
    </div>

    <div class="interaction-zone p-1 me-4 my-2">
      <div class="interaction-icon-box">
        <div
          [@bounce]="interactionFormData.colisIn.nbCourrier"
          *ngIf="interactionFormData.colisIn.nbCourrier > 0"
          class="interaction-notification"
        >
          {{ interactionFormData.colisIn.nbCourrier }}
        </div>
        <div class="interaction-icon icon-colis"></div>
      </div>
      <div class="interaction-actions">
        <button
          type="button"
          (click)="decrement('colisIn')"
          class="btn btn-primary"
          aria-label="Retirer un colis"
          [disabled]="interactionFormData.colisIn.nbCourrier === 0"
        >
          <span class="icon-moins" aria-hidden="true"></span>
        </button>
        <span class="px-1"></span>
        <button
          type="button"
          class="btn btn-primary"
          aria-label="Ajouter un colis"
          (click)="increment('colisIn')"
        >
          <span class="icon-plus" aria-hidden="true"></span>
        </button>
      </div>
      <span class="interaction-label">Colis</span>
    </div>

    <div class="interaction-zone p-1 me-4 my-2">
      <div class="interaction-icon-box">
        <div
          [@bounce]="interactionFormData.recommandeIn.nbCourrier"
          *ngIf="interactionFormData.recommandeIn.nbCourrier > 0"
          class="interaction-notification"
        >
          {{ interactionFormData.recommandeIn.nbCourrier }}
        </div>
        <div class="interaction-icon icon-recommande"></div>
      </div>
      <div class="interaction-actions">
        <button
          type="button"
          (click)="decrement('recommandeIn')"
          class="btn btn-primary"
          aria-label="Retirer un avis de passage"
          [disabled]="interactionFormData.recommandeIn.nbCourrier === 0"
        >
          <span class="icon-moins" aria-hidden="true"></span>
        </button>
        <span class="px-1"></span>
        <button
          type="button"
          class="btn btn-primary"
          aria-label="Ajouter un avis de passage"
          (click)="increment('recommandeIn')"
        >
          <span class="icon-plus" aria-hidden="true"></span>
        </button>
      </div>
      <span class="interaction-label">Avis de passage</span>
    </div>
  </div>

  <div class="px-1 my-1">
    <div class="form-group">
      <label class="label text-start" for="content">
        Informations importantes concernant les courriers
      </label>
      <textarea
        class="form-control"
        [(ngModel)]="content"
        id="content"
      ></textarea>
      <app-rgpd-warning></app-rgpd-warning>
    </div>
  </div>
</div>

<div class="text-end modal-footer">
  <button
    type="submit"
    class="btn btn-lg btn-primary mx-1"
    [disabled]="loading"
    (click)="setInteractionForm()"
  >
    <span *ngIf="!loading">Valider</span>
    <span *ngIf="loading">
      <fa-icon [icon]="['fas', 'circle-notch']" [spin]="true"> </fa-icon>
      Veuillez patientez...
    </span>
  </button>
  <button
    type="button"
    class="btn btn-outline-dark btn-lg me-2"
    (click)="cancelReception.emit()"
  >
    Annuler
  </button>
</div>
