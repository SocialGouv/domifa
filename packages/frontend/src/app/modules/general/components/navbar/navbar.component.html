<!-- header.component.html -->
<app-alerte-confidentialite></app-alerte-confidentialite>
<header role="banner" class="fr-header" id="mainHeader">
  <div class="fr-header__body">
    <div class="fr-container">
      <div class="fr-header__body-row">
        <div class="fr-header__brand fr-enlarge-link">
          <div class="fr-header__brand-top">
            <div class="fr-header__logo">
              <p class="fr-logo">République <br />française</p>
            </div>

            <div class="fr-header__operator">
              <a
                href="/"
                title="Retour à l'accueil du site - Domifa - République Française"
              >
                <img
                  class="fr-responsive-img"
                  src="assets/images/logo-dsfr.svg"
                  alt="Retour à l'accueil du site - Domifa - République Française"
                />
              </a>
            </div>

            <div class="fr-header__navbar">
              <button
                data-fr-opened="false"
                aria-controls="header-modal-menu"
                title="Menu"
                type="button"
                id="navbar-site"
                class="fr-btn--menu fr-btn"
              >
                Menu
              </button>
            </div>
          </div>
        </div>

        <div class="fr-header__tools">
          <div class="fr-header__tools-links">
            <ul class="fr-btns-group">
              @if (!me) {
              <li class="fr-nav__item">
                <a
                  class="fr-nav__link fr-btn fr-btn--tertiary"
                  routerLink="/faq"
                  ariaCurrentWhenActive="page"
                  [routerLinkActiveOptions]="{ exact: true }"
                >
                  Besoin d'aide ?
                </a>
              </li>

              } @else {
              <li>
                <a
                  ariaCurrentWhenActive="page"
                  [routerLinkActiveOptions]="{ exact: true }"
                  [routerLink]="'/manage'"
                  class="fr-btn fr-btn--tertiary"
                >
                  <img
                    src="/assets/icones/dsfr/domicilies.svg"
                    alt=""
                    class="fr-icon--xs fr-mr-1w"
                  />
                  Domiciliés
                </a>
              </li>
              }
              <app-login-dropdown [me]="me"></app-login-dropdown>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MENU MOBILE MODAL -->
  <div
    class="fr-header__menu fr-modal"
    id="header-modal-menu"
    aria-labelledby="navbar-site"
  >
    <div class="fr-container">
      <button
        aria-controls="header-modal-menu"
        title="Fermer"
        type="button"
        class="fr-btn--close fr-btn"
      >
        Fermer
      </button>

      <nav
        class="fr-nav"
        id="header-navigation"
        role="navigation"
        aria-label="Menu principal"
      >
        <ul class="fr-nav__list">
          @if (!me) {

          <!-- Liens directs -->
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Accueil
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/structures/inscription"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Inscrire ma structure
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/stats"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Statistiques
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/stats/impact"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Impact
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/news"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              @if (pendingNews) {
              <span class="fr-badge fr-badge--sm fr-badge--error fr-mr-1w"
                >New</span
              >
              } Nouveautés
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/decouvrir-domifa"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Découvrir DomiFa
            </a>
          </li>
          <li class="fr-nav__item">
            <a
              class="fr-nav__link"
              routerLink="/contact"
              ariaCurrentWhenActive="page"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              Nous contacter
            </a>
          </li>

          }
        </ul>
      </nav>

      <div class="fr-header__menu-links">
        <app-login-dropdown [me]="me"></app-login-dropdown>
      </div>
    </div>
  </div>
</header>
