<div class="head-page d-print-none">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div class="title">
        {{ title }}
      </div>

      <div class="text-light d-flex align-items-center">
        <div class="icon-note"></div>
        Commentaires privés
        <div class="notif-notes">{{ filteredNotes }}</div>
      </div>
    </div>
  </div>
</div>

<div class="content" *ngIf="me && usager">
  <router-outlet></router-outlet>

  <div class="container pb-3">
    <div class="step_form">
      <h5>Commentaires privés</h5>
      <div class="py-3">
        <app-profil-general-notes
          [(usager)]="usager"
          [me]="me"
          (onUsagerChanges)="onUsagerChanges($event)"
        ></app-profil-general-notes>
      </div>
      <button
        class="my-3 btn btn-outline-primary d-print-none mr-2"
        (click)="openAddNoteInModal()"
      >
        <fa-icon [icon]="['fas', 'plus']" class="mr-2"></fa-icon>
        <span>Ajouter une note</span>
      </button>
    </div>
  </div>
</div>

<ng-template #addNoteInModal let-modal>
  <app-profil-add-note-form
    [(usager)]="usager"
    (confirm)="onUsagerChanges($event); closeModals()"
    (cancel)="closeModals()"
  ></app-profil-add-note-form>
</ng-template>
