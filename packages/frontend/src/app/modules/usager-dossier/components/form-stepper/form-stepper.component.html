<div class="steps">
  @if (isMobile) {
  <div class="fr-hidden fr-unhidden-md fr-py-3w">
    <label class="fr-label" for="form-menu">Étapes du formulaire</label>
    <select
      class="fr-select"
      id="form-menu"
      [ngModel]="currentStep"
      (change)="changeStep($event)"
    >
      @for (etape of ETAPES_FORM_DOM; track $index; let i = $index) {
      <option [value]="i">
        Étape {{ i + 1 }} sur 5 du formulaire, {{ ETAPES_FORM_DOM_TITRES[i] }}.
      </option>
      }
    </select>
  </div>
  } @else {
  <nav id="steps" aria-label="Étapes du formulaire de demande de domiciliation">
    <div class="fr-stepper">
      <h2 class="fr-stepper__title">
        {{ ETAPES_FORM_DOM[currentStep] }}
        <span class="fr-stepper__state">
          Étape {{ currentStep + 1 }} sur 5
        </span>
      </h2>

      <div
        class="fr-stepper__steps"
        [attr.data-fr-current-step]="currentStep + 1"
        data-fr-steps="5"
      ></div>

      @if (currentStep < 4) {
      <p class="fr-stepper__details">
        <span class="fr-text--bold">Étape suivante :</span>
        {{ ETAPES_FORM_DOM[currentStep + 1] }}
      </p>
      }
    </div>
  </nav>
  }
</div>
