<app-step-header
  *ngIf="usager"
  [currentStep]="3"
  [usager]="usager"
></app-step-header>

<div class="content" *ngIf="usager && currentUserSubject$ | async as me">
  <div class="container py-3">
    <div class="step_form" id="step_form3">
      <div class="py-3 text-center">
        <h2 class="form-title">Pièces justificatives complétant le dossier</h2>
        <p>
          Cette étape est optionnelle, rien ne vous oblige à enregistrer des
          pièces justificatives.
        </p>
      </div>

      <div class="py-3">
        <app-display-usager-docs
          [usager]="usager"
          [editPJ]="true"
        ></app-display-usager-docs>
      </div>

      <div class="col-md-4 offset-md-4 text-center">
        <button
          [disabled]="loading"
          type="submit"
          class="btn btn-primary btn-block my-3"
          (click)="nextStep(4)"
        >
          <span *ngIf="!loading">
            Suivant
            <fa-icon
              aria-hidden="true"
              [icon]="['fas', 'angle-right']"
            ></fa-icon>
          </span>

          <span *ngIf="loading"
            ><fa-icon
              aria-hidden="true"
              [icon]="['fas', 'circle-notch']"
              [spin]="true"
            >
            </fa-icon>
            Veuillez patienter...</span
          >
        </button>

        <a
          routerLink="/manage"
          routerLinkActive="router-link-active"
          class="btn btn-block my-3"
        >
          Continuer plus tard
          <fa-icon
            class="ms-2"
            aria-hidden="true"
            [icon]="['fas', 'angle-right']"
          ></fa-icon>
        </a>
      </div>
    </div>

    <app-step-footer [usager]="usager"></app-step-footer>

    <app-delete-usager-menu
      context="PROFIL"
      [me]="me"
      [usager]="usager"
    ></app-delete-usager-menu>
  </div>
</div>
