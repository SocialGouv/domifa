<h3>Historique des envois de SMS</h3>

<p>Rappel: les domiciliés peuvent recevoir 2 type de SMS</p>
<ul class="mb-4">
  <li>
    Un sms pour indiquer l'arrivée d'un courrier à 19h selon les jours choisis
    par votre structure (Mardi et jeudi par défaut)
  </li>
  <li>
    Un SMS de rappel envoyé 1 mois avant la date de fin de la domiciliation.
    Celui-ci indique au domicilié que sa domiciliation arrive à échéance.
  </li>
</ul>

<div class="table-responsive" *ngIf="messagesList?.length > 0">
  <table class="table-history table">
    <caption class="visually-hidden">
      Historique des SMS envoyés
    </caption>
    <thead>
      <tr>
        <th scope="col">Date d'envoi</th>
        <th scope="col">Statut</th>
        <th scope="col">Type de SMS</th>
        <th scope="col">Numéro de téléphone</th>
        <th scope="col">Contenu</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let sms of messagesList">
        <td>
          {{
            (sms.sendDate ? sms.sendDate : sms.scheduledDate)
              | date : "dd MMMM yyyy à HH:mm"
          }}
        </td>
        <td>{{ SMS_STATUS_LABELS[sms.status] }}</td>
        <td>{{ SMS_LABELS[sms.smsId] }}</td>
        <td>{{ sms.phoneNumber }}</td>
        <td>{{ sms.content }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="messagesList?.length === 0" class="alert alert-info">
  <p>Aucun sms enregistré actuellement</p>
</div>
