<div *ngIf="usager.docs.length === 0">
  <ngb-alert [dismissible]="false">Aucune pièce-jointe enregistrée</ngb-alert>
</div>

<div *ngIf="usager.docs.length > 0">
  <div class="row">
    <div class="col-md-12">
      <h5 class="title text-center">Pièces déjà enregistrées</h5>
    </div>
    <table class="table table-light">
      <tbody>
        <tr>
          <th>Nom de la pièce justificative</th>
          <th>Ajoutée le</th>
          <th>Ajoutée par</th>
          <th></th>
          <th></th>
        </tr>
        <tr *ngFor="let document of usager.docs; let indexDocs = index">
          <td>{{ document.label }}</td>
          <td>{{ document.createdAt | date: "dd/MM/yyyy" }}</td>
          <td>{{ document.createdBy }}</td>
          <td class="text-right">
            <button
              (click)="getDocument(indexDocs)"
              class="btn btn-primary"
              [disabled]="loadingDelete || loadingDownload"
              aria-label="Voir la pièce jointe"
            >
              <span *ngIf="loadingDownload"
                ><fa-icon icon="circle-notch" [spin]="true"> </fa-icon>
                Téléchargement en cours...</span
              >

              <span *ngIf="!loadingDownload"
                ><fa-icon icon="download"></fa-icon> &nbsp; Télécharger</span
              >
            </button>
          </td>
          <td>
            <button
              (click)="deleteDocument(indexDocs)"
              class="btn btn-danger"
              [disabled]="loadingDelete || loadingDownload"
              aria-label="Voir la pièce jointe"
            >
              <span *ngIf="loadingDelete"
                ><fa-icon icon="circle-notch" [spin]="true"> </fa-icon>
                Suppression en cours...</span
              >
              <span *ngIf="!loadingDelete"
                ><fa-icon icon="trash"></fa-icon> &nbsp; Supprimer</span
              >
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
