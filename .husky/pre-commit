# Linting
echo "ðŸ” Linting et formatting..."
if ! corepack pnpm exec lint-staged; then
  echo "âŒ Erreur de linting - commit annulÃ©"
  exit 1
fi

# SÃ©curitÃ©
echo "ðŸ›¡ï¸ VÃ©rification sÃ©curitÃ©..."
if sh -c ': >/dev/tty' >/dev/null 2>/dev/null; then
  exec </dev/tty
  if ! corepack pnpm exec node-talisman --githook pre-commit -i; then
    echo "âŒ VÃ©rification sÃ©curitÃ© Ã©chouÃ©e"
    exit 1
  fi
else
  if ! corepack pnpm exec node-talisman --githook pre-commit; then
    echo "âŒ VÃ©rification sÃ©curitÃ© Ã©chouÃ©e"
    exit 1
  fi
fi

echo "âœ… Commit validÃ©!"
